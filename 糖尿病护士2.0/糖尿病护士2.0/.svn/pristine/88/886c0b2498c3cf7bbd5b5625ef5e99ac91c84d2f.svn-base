//
//  LoginState.m
//  TangNiaoBingHuShi
//
//  Created by Jason on 14-12-9.
//  Copyright (c) 2014年 Jason. All rights reserved.
//

#import "LoginState.h"
#import "User.h"
#import "LoginViewController.h"
@implementation LoginState
- (instancetype)init
{
    self = [super init];
    if (self) {
        
    }
    return self;
}
-(BOOL)loginStateWithViewController:(UIViewController *)viewController
{
    User *user = [User shareInstance];
    if (user.member_uid) {
        return YES;
    } else {
        DXAlertView *alertView = [[DXAlertView alloc] initWithTitle:nil contentText:@"您还没有登录，请登录" leftButtonTitle:@"取消" rightButtonTitle:@"去登录"];
        [alertView show];
        alertView.leftBlock = ^(){
            return ;
        };
        alertView.rightBlock = ^(){
            UIStoryboard *loginSB = [UIStoryboard storyboardWithName:@"Mine" bundle:nil];
            LoginViewController *loginVC =[loginSB instantiateViewControllerWithIdentifier:@"login"];
            [loginVC valueOfBlock:^{
                
            }];
            [viewController presentViewController:loginVC animated:YES completion:nil];
        };
    }
    return NO;
}
@end
