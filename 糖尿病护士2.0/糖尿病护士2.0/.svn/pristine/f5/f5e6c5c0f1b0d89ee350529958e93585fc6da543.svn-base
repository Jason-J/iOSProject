//
//  RechargeController.m
//  TangNiaoBingHuShi
//
//  Created by qimingfang-dwk on 14/12/10.
//  Copyright (c) 2014å¹´ Jason. All rights reserved.
//

#import "RechargeController.h"

@interface RechargeController ()<UITextFieldDelegate>
@property (weak, nonatomic) IBOutlet UILabel *balanceLab;
@property (weak, nonatomic) IBOutlet UITextField *otherTF;
@property (weak, nonatomic) IBOutlet UIButton *rechargeBtn;

@end

@implementation RechargeController

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    self.otherTF.delegate = self;
    [self getBalanceRequest];
}
- (IBAction)rechargeAction:(id)sender {
}
-(void)getBalanceRequest{
    JSNetWorking * js = [[JSNetWorking alloc] init];
    [js getRequestWithURLStr:@"http://www.tanghushi.com/api/mobile/?version=2&module=account&op=getaccount&isint=1" success:^(id ResultData) {
        id value = [[[ResultData objectForKey:@"Variables"] objectForKey:@"value"] objectForKey:@"account"];
        NSNumberFormatter * stringNum = [[NSNumberFormatter alloc] init];
        NSString * valueString = [stringNum stringFromNumber:value];
        self.balanceLab.text = valueString;
        NSLog(@"value =  %@",value);
    } failure:^(NSError *error, AFHTTPRequestOperation *operation) {
        NSLog(@"error = %@",error);
    }];
}
-(BOOL)textFieldShouldReturn:(UITextField *)textField{
    [textField resignFirstResponder];
    return YES;
}
- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
